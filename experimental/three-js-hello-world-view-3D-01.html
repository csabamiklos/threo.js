<!DOCTYPE HTML>
<html>
<head>
<title>three.js - hello world - view - zoom - lights</title>
</head>
<body style="background:#ccc; margin:0; overflow:hidden;">
<div id="info" style="position: absolute; top: 0px; left: 30%; width: 100%; padding: 5px;">xxx</div>
<script src="http://mrdoob.github.com/three.js/build/Three.js"></script>
<script src="QuakeTheoCamera.js"></script>
<script type="text/javascript" src="http://mrdoob.github.com/three.js/examples/js/Stats.js"></script>
<script>

  var mouseX = 0, mouseY = 0,
  lat = -12.5, lon = 0, phy = 0, theta = 0;
  
  var direction = new THREE.Vector3(),
  moveForward = false, moveBackward = false, rotate = false;
	
  moveUp = false, moveDown = false, moveLeft = false, moveRight = false;

  var windowHalfX = window.innerWidth / 2;
  var windowHalfY = window.innerHeight / 2;
	
  var scene = new THREE.Scene();
	
	
	var camera = new THREE.QuakeCamera( { fov: 50, aspect: window.innerWidth / window.innerHeight, near: 1, far: 10000, movementSpeed: 0.1, lookSpeed: 0.001, noFly: true, lookVertical: true, dragToLook: true, heightSpeed: false} );
	camera.position.set( -8, 2, 0 );
 	
	// Light added here
	var pointLight = new THREE.PointLight(0xffffff);
	scene.addLight(pointLight);		
	
	var plane = new THREE.Mesh(new Plane(10,10,50,50), new THREE.MeshBasicMaterial({ color: 0x666666, wireframe: true }))
	plane.position = {x: 0, y: -0.5, z: 0};
  plane.rotation = {x: 1.57, y: 0, z: 0};
  plane.scale = {x: 10, y: 10, z: 10};
  scene.addObject(plane);
  
	var cube = new THREE.Mesh(new Cube(1, 1, 1), new THREE.MeshPhongMaterial({color: Math.random() * 0xffffff, opacity: 0.8}));
	scene.addObject(cube);	
	
		// Cubes
  var geometry = new Cube( 1, 1, 1 );
  // var material = new THREE.MeshLambertMaterial( { color: 0xffffff, shading: THREE.FlatShading } );
 //  var material = new THREE.MeshPhongMaterial({color: Math.random() * 0xffffff, opacity: 0.5});
  var material = new THREE.MeshNormalMaterial({opacity: 0.5});
  
  for ( var i = 0; i < 100; i ++ ) {

	  var cube = new THREE.Mesh( geometry, material );
	  cube.overdraw = false;

	  cube.scale.y = Math.floor( Math.random() * 2 + 1 );

	  cube.position.x = Math.floor( ( Math.random() * 10 - 5 ) / 1 ) * 4 + 2;
	  cube.position.y = ( cube.scale.y * 1 ) / 2 - 0.5;
	  cube.position.z = Math.floor( ( Math.random() * 10 - 5 ) / 1 ) * 4 + 2;

	  scene.addObject(cube);

  }
	
	var renderer = new THREE.WebGLRenderer();
	renderer.setSize(window.innerWidth, window.innerHeight);
	document.body.appendChild(renderer.domElement);
	
  var container, stats;
  
  container = document.createElement( 'div' );
	document.body.appendChild( container );
				
  stats = new Stats();
	stats.domElement.style.position = 'absolute';
	stats.domElement.style.top = '0px';
	stats.domElement.style.zIndex = 100;
	container.appendChild( stats.domElement );	

    
	function loop() {
	
		pointLight.position = camera.position;

		renderer.render(scene, camera);
		
		stats.update();
		// document.getElementById('info').innerHTML="speed: " + camera.target.position.x;
	}

  setInterval(loop, 1000 / 60);

</script>
</body>
</html>